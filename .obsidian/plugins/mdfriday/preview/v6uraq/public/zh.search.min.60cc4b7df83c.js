"use strict";!function(){const e=Object.assign({},{includeScore:!0,useExtendedSearch:!0,fieldNormWeight:1.5,threshold:.2,ignoreLocation:!0,keys:[{name:"title",weight:.7},{name:"content",weight:.3}]}),t=document.querySelector("#book-search-input"),n=document.querySelector("#book-search-results");function r(){for(;n.firstChild;)n.removeChild(n.firstChild);t.value&&window.bookSearchIndex.search(t.value).slice(0,10).forEach(function(e){const t=function(){const e=document.createElement("div");return e.innerHTML="<li><a href></a><small></small></li>",e.firstChild}(),r=t.querySelector("a"),o=t.querySelector("small");r.href=e.item.href,r.textContent=e.item.title,o.textContent=e.item.section,n.appendChild(t)})}t&&(t.addEventListener("focus",function n(){t.removeEventListener("focus",n),t.required=!0,fetch("/s/b1623f077c/v6uraq/zh.search-data.min.4f53cda18c2b.json").then(e=>e.json()).then(t=>{window.bookSearchIndex=new Fuse(t,e)}).then(()=>t.required=!1).then(r)}),t.addEventListener("keyup",r),document.addEventListener("keypress",function(e){var n;void 0===e.target.value&&(t!==document.activeElement&&(n=String.fromCharCode(e.charCode),(t.getAttribute("data-hotkeys")||"").indexOf(n)>=0&&(t.focus(),e.preventDefault())))}))}();